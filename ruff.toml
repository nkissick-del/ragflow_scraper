line-length = 150
target-version = "py311"

[lint]
select = ["E", "F", "S"]
ignore = [
    "E501",
    "S101",  # assert used for type narrowing (pyright) throughout codebase
    "S104",  # binding to 0.0.0.0 â€” intentional for Docker containers
    "S110",  # try-except-pass in best-effort cleanup (job_queue atexit)
    "S311",  # random for retry jitter, not cryptographic
]

[lint.per-file-ignores]
"app/scrapers/scraper_registry.py" = ["F821"]
"app/backends/vectorstores/pgvector_store.py" = ["S608"]  # parameterized query with code-generated WHERE clause
"tests/**/*.py" = ["S101", "S105", "S106", "S107", "S108", "S603"]
