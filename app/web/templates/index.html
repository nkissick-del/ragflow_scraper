{% extends "base.html" %}

{% block title %}Dashboard - PDF Scraper{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Dashboard</h1>
    <p>Overview of your PDF scrapers and recent activity</p>
</div>

<section class="section">
    <h2>Scrapers</h2>
    <div class="scraper-grid">
        {% for scraper in scrapers %}
        {% include "components/scraper-card.html" %}
        {% else %}
        <div class="empty-state">
            <p>No scrapers found. Add a scraper module to get started.</p>
        </div>
        {% endfor %}
    </div>
    {% if scrapers %}
    <div id="card-poller"
         hx-get="{{ url_for('scrapers.bulk_scraper_cards') }}"
         hx-trigger="every 5s"
         hx-swap="none"
         style="display:none"></div>
    {% endif %}
</section>

<section class="section">
    <h2>Recent Activity</h2>
    <div class="log-viewer"
         id="recent-logs"
         hx-get="{{ url_for('metrics_logs.log_stream') }}"
         hx-trigger="load, every 5s"
         hx-swap="innerHTML">
        <p class="loading">Loading logs...</p>
    </div>
</section>
{% endblock %}
